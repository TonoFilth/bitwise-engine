#pragma once

#include "bitwise/core/macros.h"
#include "bitwise/network/module_internal.h"

namespace bw
{

// -----------------------------------------------------------------------------
//  Forward declarations
// -----------------------------------------------------------------------------
struct TcpServerConfig;

////////////////////////////////////////////////////////////////////////////////
/// \brief Brief description.
/// \todo Write brief description.
////////////////////////////////////////////////////////////////////////////////
class BW_API TcpServer
{
public:
	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	explicit TcpServer(const TcpServerConfig& config);

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	TcpServer(const TcpServer& other) = delete;

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	TcpServer& operator=(const TcpServer& other) = delete;

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	~TcpServer();

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	void run();

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	void stop();

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	void restart();

	////////////////////////////////////////////////////////////////////////////
    /// \brief Brief description.
    /// \todo Write brief description.
    ////////////////////////////////////////////////////////////////////////////
	bool isRunning() const;

private:
	char m_impl[bw::internal::network::kTcpServerSize];
};

}	// namespace bw

////////////////////////////////////////////////////////////////////////////////
/// \class bw::TcpServer
/// \ingroup network
///
/// \details Detailed description.
/// \todo Write detailed description.
////////////////////////////////////////////////////////////////////////////////